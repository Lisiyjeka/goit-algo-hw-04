## Аналіз продуктивності сортувань: вставками, злиттям та Timsort

На базі наданого виводу бенчмарків порівняно три алгоритми: сортування вставками, сортування злиттям та вбудований у Python `sorted`/`list.sort()` (Timsort). Оцінювалась медіана часу з 5 виконаннь на наборах даних: випадкові, відсортовані, зворотно відсортовані, майже відсортовані (≈5% перестановок), для розмірів до 100 000 елементів.

### Загальні висновки 

**Timsort у 180-260 разів швидший за merge sort** на масивах до 50,000 елементів.

**На 100,000 елементах merge sort показує краще масштабування**, але все ще поступається:
- У 12-43 рази на випадкових і майже відсортованих даних
- У 269 разів на відсортованих даних

**Для практичного програмування на Python** завжди використовуйте вбудовані функції сортування — вони оптимізовані як з точки зору алгоритму, так і реалізації.

**Insertion sort** може бути корисним:
- Як частина гібридних алгоритмів
- Для малих масивів (до 50 елементів)
- Як останній крок в оптимізованих алгоритмах

**Merge sort** демонструє важливість **константних факторів** — навіть алгоритм з O(n log n) може бути повільнішим на практиці через великі накладні витрати.

**Timsort показує силу адаптивності** — алгоритми, що враховують структуру вхідних даних, можуть бути на порядки ефективніше у реальних умовах.

**Инсайд**: Треба вивчати  алгоритми для розуміння принципів, але для продакшн коду  можна сміливо використовувати  стандартні бібліотеки.

### Таблиці результатів

#### Random
    n     |   algo   | median_time_s 
----------------------------------------
   1000   |insertion |       0.000053
   1000   |  merge   |       0.000756
   1000   | timsort  |       0.000004
   5000   |insertion |       0.000249
   5000   |  merge   |       0.004373
   5000   | timsort  |       0.000019
  10000   |insertion |       0.000497
  10000   |  merge   |       0.009218
  10000   | timsort  |       0.000044
  50000   |insertion |       0.002552
  50000   |  merge   |       0.051639
  50000   | timsort  |       0.000228
  100000  |  merge   |       0.140405
  100000  | timsort  |       0.010896
----------------------------------------

#### Sorted
    n     |   algo   | median_time_s 
----------------------------------------
   1000   |insertion |       0.000049
   1000   |  merge   |       0.000789
   1000   | timsort  |       0.000004
   5000   |insertion |       0.000268
   5000   |  merge   |       0.004817
   5000   | timsort  |       0.000019
  10000   |insertion |       0.000503
  10000   |  merge   |       0.009512
  10000   | timsort  |       0.000036
  50000   |insertion |       0.002500
  50000   |  merge   |       0.051188
  50000   | timsort  |       0.000192
  100000  |  merge   |       0.108940
  100000  | timsort  |       0.000405
----------------------------------------

#### Reversed
    n     |   algo   | median_time_s 
----------------------------------------
   1000   |insertion |       0.000048
   1000   |  merge   |       0.000719
   1000   | timsort  |       0.000004
   5000   |insertion |       0.000246
   5000   |  merge   |       0.004307
   5000   | timsort  |       0.000021
  10000   |insertion |       0.000496
  10000   |  merge   |       0.009190
  10000   | timsort  |       0.000044
  50000   |insertion |       0.002502
  50000   |  merge   |       0.051313
  50000   | timsort  |       0.000210
----------------------------------------

#### Nearly sorted (~5% swaps)
    n     |   algo   | median_time_s 
----------------------------------------
   1000   |insertion |       0.000048
   1000   |  merge   |       0.000714
   1000   | timsort  |       0.000004
   5000   |insertion |       0.000247
   5000   |  merge   |       0.004279
   5000   | timsort  |       0.000018
  10000   |insertion |       0.000494
  10000   |  merge   |       0.009164
  10000   | timsort  |       0.000043
  50000   |insertion |       0.002545
  50000   |  merge   |       0.052581
  50000   | timsort  |       0.000204
  100000  |  merge   |       0.123171
  100000  | timsort  |       0.002852
----------------------------------------

#### Відносна швидкість (algo_time / timsort_time)
      dataset       |    n     |   algo   |     ratio     
       random       |   1000   |insertion |          12.04
       random       |   1000   |  merge   |         181.56
       random       |   5000   |insertion |          13.00
       random       |   5000   |  merge   |         217.45
       random       |  10000   |insertion |          10.66
       random       |  10000   |  merge   |         198.97
       random       |  50000   |insertion |          11.37
       random       |  50000   |  merge   |         236.96
       random       |  100000  |  merge   |          12.51
       sorted       |   1000   |insertion |          12.08
       sorted       |   1000   |  merge   |         193.23
       sorted       |   5000   |insertion |          13.77
       sorted       |   5000   |  merge   |         247.56
       sorted       |  10000   |insertion |          13.93
       sorted       |  10000   |  merge   |         263.30
       sorted       |  50000   |insertion |          12.99
       sorted       |  50000   |  merge   |         265.97
       sorted       |  100000  |  merge   |         268.82
      reversed      |   1000   |insertion |          13.73
      reversed      |   1000   |  merge   |         205.50
      reversed      |   5000   |insertion |          11.99
      reversed      |   5000   |  merge   |         210.09
      reversed      |  10000   |insertion |          11.19
      reversed      |  10000   |  merge   |         207.28
      reversed      |  50000   |insertion |          11.88
      reversed      |  50000   |  merge   |         243.77
   nearly_sorted    |   1000   |insertion |          12.68
   nearly_sorted    |   1000   |  merge   |         188.34
   nearly_sorted    |   5000   |insertion |          14.11
   nearly_sorted    |   5000   |  merge   |         244.52
   nearly_sorted    |  10000   |insertion |          11.58
   nearly_sorted    |  10000   |  merge   |         214.79
   nearly_sorted    |  50000   |insertion |          12.50
   nearly_sorted    |  50000   |  merge   |         258.38
   nearly_sorted    |  100000  |  merge   |          43.19




### Висновки
- **Поєднання вставок і злиття в Timsort забезпечує значну практичну перевагу**: від десятків до сотень разів швидше за merge sort і суттєво швидше за insertion sort.

### Відтворення

```bash
python3 bench_sorting.py
```

